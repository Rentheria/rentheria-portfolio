<div class="timeline-item relative pl-9 pb-2">
  <!-- neon vertical line + dot -->
  <div class="timeline-line absolute left-[6px] top-0 w-0.5 h-full"></div>
  <div
    class="timeline-dot absolute left-[0px] top-0 w-3 h-3 rounded-full"
  ></div>

  <!-- card -->
  <div
    class="pokemon-card p-6 hover:shadow-xl transition-all duration-300 mt-2 cursor-pointer"
    (click)="onToggleClick()"
  >
    <!-- header -->
    <div class="flex justify-between items-start mb-4">
      <div class="flex flex-row justify-between w-full gap-2">
        <div class="flex flex-col gap-2">
          <h3 class="text-title-yellow text-2xl font-extrabold mb-2">
            {{ history.company }}
          </h3>

          <div
            class="flex items-center mb-2 text-link-cyan text-link-cyan font-bold text-lg"
          >
            <svg
              class="w-4 h-4 mr-2 text-2xl"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-6a1 1 0 00-1-1H9a1 1 0 00-1 1v6a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm8 0h2v2h-2V5z"
                clip-rule="evenodd"
              ></path>
            </svg>

            <span> {{ history.title }} </span>
          </div>
        </div>
        <div class="flex flex-col gap-2">
          <div class="flex items-center text-sm text-gray-100/90 text-lg mb-1">
            <svg
              class="w-4 h-4 mr-2 text-gray-400"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                clip-rule="evenodd"
              ></path>
            </svg>
            <span>{{ history.period }}</span>
          </div>

          <div class="flex items-center text-sm text-gray-100/90 text-lg">
            <svg
              class="w-4 h-4 mr-2 text-gray-400"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                clip-rule="evenodd"
              ></path>
            </svg>
            <span>{{ history.location }} • {{ history.type }}</span>
          </div>
        </div>
        <!-- <button (click)="onToggleClick()" class="p-1">
          <svg
            class="w-10 h-10 transform transition-transform duration-200 text-chev-purple"
            [class.rotate-180]="isExpanded"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button> -->
      </div>
    </div>

    <!-- expandable -->
    <div
      class="expandable-content overflow-hidden transition-all duration-300 ease-in-out"
      [class.max-h-0]="!isExpanded"
      [class.max-h-screen]="isExpanded"
    >
      <!-- achievements -->
      <div class="mb-6">
        <h4 class="card-subhead mb-3 flex items-center text-2xl">
          <svg class="w-7 h-7 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path
              fill-rule="evenodd"
              d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <span class="text-xl">KEY ACHIEVEMENTS</span>
        </h4>
        <ul class="space-y-2">
          <li
            *ngFor="let achievement of history.achievements"
            class="text-md leading-relaxed flex items-start text-gray-100/60"
          >
            <span class="mr-2 mt-1 font-bold text-title-yellow text-2xl"
              >•</span
            >
            <span>
              <span class="text-link-word-break">{{
                getFirstWord(achievement)
              }}</span>
              <span *ngIf="getRestOfText(achievement)">
                {{ getRestOfText(achievement) }}</span
              >
            </span>
          </li>
        </ul>
      </div>

      <!-- technologies -->
      <div>
        <h4 class="card-subhead mb-3 flex items-center text-2xl">
          <svg class="w-7 h-7 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path
              fill-rule="evenodd"
              d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <span class="text-xl">Technologies</span>
        </h4>
        <div class="flex flex-wrap gap-2">
          <span *ngFor="let tech of history.technologies" class="tech-badge">
            {{ tech }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
